/* src/styles/index.css */
@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
    :root {
        /* Define your color palette using HSL values */
        --background: 0 0% 100%; /* White */
        --foreground: 224 71.4% 4.1%; /* Dark Blue/Black */

        --card: 0 0% 100%;
        --card-foreground: 224 71.4% 4.1%;

        --popover: 0 0% 100%;
        --popover-foreground: 224 71.4% 4.1%;

        --primary: 262.1 83.3% 57.8%; /* Example Purple */
        --primary-foreground: 0 0% 100%; /* White text on primary */

        --secondary: 220 13% 91%; /* Light Gray */
        --secondary-foreground: 224 71.4% 4.1%;

        --muted: 220 9% 46.1%; /* Gray */
        --muted-foreground: 220 13% 69.1%; /* Lighter Gray */

        --accent: 220 13% 91%; /* Same as secondary */
        --accent-foreground: 224 71.4% 4.1%;

        --destructive: 0 84.2% 60.2%; /* Red */
        --destructive-foreground: 0 0% 100%;

        --border: 220 13% 91%;
        --input: 220 13% 91%;
        --ring: 262.1 83.3% 57.8%; /* Primary color for rings */

        --radius: 0.75rem; /* Example border radius */
    }

    .dark {
        /* Define dark mode colors */
        --background: 224 71.4% 4.1%; /* Dark Blue/Black */
        --foreground: 210 20% 98%; /* Very Light Gray */

        --card: 224 71.4% 4.1%;
        --card-foreground: 210 20% 98%;

        --popover: 224 71.4% 4.1%;
        --popover-foreground: 210 20% 98%;

        --primary: 263.4 95.2% 66.9%; /* Brighter Purple */
        --primary-foreground: 210 20% 98%;

        --secondary: 215 27.9% 16.9%; /* Dark Gray/Blue */
        --secondary-foreground: 210 20% 98%;

        --muted: 215 27.9% 16.9%;
        --muted-foreground: 217.9 10.6% 64.9%; /* Grayish */

        --accent: 215 27.9% 16.9%;
        --accent-foreground: 210 20% 98%;

        --destructive: 0 62.8% 30.6%; /* Darker Red */
        --destructive-foreground: 210 20% 98%;

        --border: 215 27.9% 16.9%;
        --input: 215 27.9% 16.9%;
        --ring: 263.4 95.2% 66.9%;
    }
}

@layer base {
    * {
        @apply border-border;
    }

    body {
        @apply bg-background text-foreground;
        font-feature-settings: "rlig" 1, "calt" 1;
        /* Apply a subtle font smoothing */
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
    }
}

@layer components {
    /* Thin Scrollbar for Webkit */
    .styled-scrollbar-thin::-webkit-scrollbar {
        width: 6px; /* Thinner scrollbar */
        height: 6px;
    }

    .styled-scrollbar-thin::-webkit-scrollbar-track {
        background: transparent; /* Track */
        border-radius: 3px;
    }

    .styled-scrollbar-thin::-webkit-scrollbar-thumb {
        background-color: hsl(var(--muted) / 0.3); /* Thumb */
        border-radius: 3px;
        border: 1px solid transparent;
        background-clip: padding-box;
    }

    .styled-scrollbar-thin::-webkit-scrollbar-thumb:hover {
        background-color: hsl(var(--muted) / 0.5);
    }

    /* Thin Scrollbar for Firefox */
    .styled-scrollbar-thin {
        scrollbar-width: thin;
        scrollbar-color: hsl(var(--muted) / 0.3) transparent;
    }

    /* Standard Scrollbar for Webkit */
    .styled-scrollbar::-webkit-scrollbar {
        width: 8px; /* Standard width */
        height: 8px;
    }

    .styled-scrollbar::-webkit-scrollbar-track {
        background: hsl(var(--secondary) / 0.3); /* Slightly visible track */
        border-radius: 4px;
    }

    .styled-scrollbar::-webkit-scrollbar-thumb {
        background-color: hsl(var(--muted) / 0.5); /* Slightly darker thumb */
        border-radius: 4px;
        border: 1px solid transparent;
        background-clip: padding-box;
    }

    .styled-scrollbar::-webkit-scrollbar-thumb:hover {
        background-color: hsl(var(--muted) / 0.7);
    }

    /* Standard Scrollbar for Firefox */
    .styled-scrollbar {
        scrollbar-width: auto; /* Standard width */
        scrollbar-color: hsl(var(--muted) / 0.5) hsl(var(--secondary) / 0.3);
    }

    /* Custom focus outline */
    *:focus-visible {
        outline: 2px solid hsl(var(--primary) / 0.5);
        outline-offset: 2px;
        border-radius: 2px; /* Optional: match border radius */
    }

    /* Remove default browser outline when focus-visible is supported */
    *:focus:not(:focus-visible) {
        outline: none;
    }

    /* Tooltip styling (if needed beyond shadcn defaults) */
    .tooltip-content {
        @apply bg-foreground text-background px-2 py-1 text-xs rounded-sm shadow-md z-50;
    }

    /* Style CodeMirror specifically to ensure background transparency */
    .cm-editor .cm-scroller, .cm-editor .cm-content {
        background-color: transparent !important; /* Ensure CodeMirror respects container background */
    }

    /* Ensure drag overlay has high z-index */
    .dnd-drag-overlay {
        z-index: 9999 !important;
    }

    /* --- FIX: Hide browser's default clear button for search inputs --- */
    input[type="search"]::-webkit-search-decoration,
    input[type="search"]::-webkit-search-cancel-button,
    input[type="search"]::-webkit-search-results-button,
    input[type="search"]::-webkit-search-results-decoration {
        -webkit-appearance: none; /* Older way */
        display: none; /* Standard way */
    }

    /* Optional: Add similar rules for other browsers if needed, e.g., Edge/IE */
    input[type="search"]::-ms-clear {
        display: none;
        width: 0;
        height: 0;
    }

    input[type="search"]::-ms-reveal {
        display: none;
        width: 0;
        height: 0;
    }
}