/* src/styles/index.css */
@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
    :root {
        /* Design System Variables */
        --font-primary: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
        --font-primary-light-weight: 300;
        --font-primary-regular-weight: 400;
        --font-primary-medium-weight: 500;

        /* Main Colors */
        --color-primary: 22 100% 70%; /* #FF9466 */
        --color-primary-light: 22 100% 91%; /* #FFDED1 */
        --color-primary-dark: 22 80% 61%; /* #E67E50 */

        /* Neutral Colors */
        --color-white: 0 0% 100%; /* #FFFFFF */
        --color-grey-ultra-light: 220 25% 98%; /* #F9F9FB - Almost invisible */
        --color-grey-light: 220 17% 94%; /* #EEEEF2 - Separators */
        --color-grey-medium: 220 10% 78%; /* #C2C2CC - Secondary text */
        --color-grey-dark: 220 10% 34%; /* #545466 - Primary text */

        /* Functional Colors (Softened) */
        --color-success: 123 40% 63%; /* #66BB6A */
        --color-info: 207 88% 63%; /* #4DABF5 */
        --color-warning: 39 100% 56%; /* #FFA726 */
        --color-error: 1 82% 63%; /* #EF5350 */

        /* UI Elements */
        --border-radius-base: 4px;
        --border-radius-small: 2px; /* For finer elements like progress bar ends */

        /* Shadows - As per spec */
        --shadow-subtle: 0 1px 3px 0 hsl(var(--color-grey-dark) / 0.03);
        --shadow-ai-summary: 0 2px 8px 0 hsl(var(--color-grey-dark) / 0.03);
        --shadow-modal: 0 3px 16px 0 hsl(var(--color-grey-dark) / 0.08);
    }

    body {
        font-family: var(--font-primary);
        font-weight: var(--font-primary-light-weight); /* Default to light */
        background-color: hsl(var(--color-white));
        color: hsl(var(--color-grey-dark));
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
        font-size: 13px;
        line-height: 1.5;
    }

    *:focus {
        outline: none;
    }

    *:focus-visible {
        outline: 1.5px solid hsl(var(--color-primary) / 0.7); /* Thinner, more subtle outline */
        outline-offset: 2px;
    }

    [data-radix-focus-visible] {
        outline: 1.5px solid hsl(var(--color-primary) / 0.7) !important;
        outline-offset: 2px !important;
    }

    html {
        scroll-behavior: smooth;
    }

    .styled-scrollbar::-webkit-scrollbar,
    .styled-scrollbar-thin::-webkit-scrollbar {
        width: 4px;
        height: 4px;
    }

    .styled-scrollbar::-webkit-scrollbar-track,
    .styled-scrollbar-thin::-webkit-scrollbar-track {
        background-color: transparent;
    }

    .styled-scrollbar::-webkit-scrollbar-thumb,
    .styled-scrollbar-thin::-webkit-scrollbar-thumb {
        background-color: hsl(var(--color-grey-medium) / 0.3);
        border-radius: var(--border-radius-small);
    }

    .styled-scrollbar::-webkit-scrollbar-thumb:hover,
    .styled-scrollbar-thin::-webkit-scrollbar-thumb:hover {
        background-color: hsl(var(--color-grey-medium) / 0.6);
    }

    .styled-scrollbar::-webkit-scrollbar-corner,
    .styled-scrollbar-thin::-webkit-scrollbar-corner {
        background: transparent;
    }

    .cm-editor {
        font-family: var(--font-primary) !important;
        font-weight: var(--font-primary-regular-weight) !important; /* Editor content is primary, use regular */
        font-size: 13px !important;
        line-height: 1.6 !important;
    }

    input[type="search"]::-webkit-search-decoration,
    input[type="search"]::-webkit-search-cancel-button,
    input[type="search"]::-webkit-search-results-button,
    input[type="search"]::-webkit-search-results-decoration {
        -webkit-appearance: none;
        display: none;
    }

    input[type="search"]::-ms-clear, input[type="search"]::-ms-reveal {
        display: none;
        width: 0;
        height: 0;
    }

    /* Ensure Radix popper content respects transform-origin for smoother animations */
    [data-radix-popper-content-wrapper] {
        transform-origin: var(--radix-popper-transform-origin);
    }
}