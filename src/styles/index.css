/* src/styles/index.css */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* Define base styles and custom properties */
@layer base {
    :root {
        /* Define HSL variables for primary color (matching tailwind.config.ts) */
        --primary-h: 210;
        --primary-s: 100%;
        --primary-l: 50%;
        --primary-foreground-h: 0;
        --primary-foreground-s: 0%;
        --primary-foreground-l: 100%;

        /* Font variables */
        --font-sans: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
        --font-mono: SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;

        /* Other potential CSS variables */
        --canvas-bg: hsl(220, 30%, 98%);
        --canvas-alt-bg: hsl(220, 25%, 96%);
        --muted-fg: hsl(210, 10%, 55%);

        /* Define border radius - can be overridden by Tailwind utilities */
        --radius: 0.375rem; /* 6px */
    }

    /* Optional: Apply base font */
    body {
        @apply font-sans bg-canvas text-gray-800 antialiased;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
    }

    /* Basic focus outline style (can be customized) */
    *:focus-visible {
        @apply outline-none ring-1 ring-primary/60 ring-offset-1 ring-offset-canvas;
    }

    /* Remove default button outline */
    button:focus {
        outline: none;
    }

    /* Input placeholder styling */
    input::placeholder,
    textarea::placeholder {
        @apply text-muted/80; /* Use muted color with some opacity */
    }
}

/* Define custom component layers */
@layer components {
    /* --- Custom Scrollbar Styles --- */
    /* Base scrollbar track */
    .styled-scrollbar::-webkit-scrollbar-track,
    .styled-scrollbar-thin::-webkit-scrollbar-track {
        @apply bg-transparent; /* Transparent track */
    }

    /* Base scrollbar thumb */
    .styled-scrollbar::-webkit-scrollbar-thumb,
    .styled-scrollbar-thin::-webkit-scrollbar-thumb {
        @apply bg-black/20 rounded-full border-2 border-transparent bg-clip-content;
        /* Darker thumb, rounded, slight border for padding */
    }

    /* Hover state for thumb */
    .styled-scrollbar::-webkit-scrollbar-thumb:hover,
    .styled-scrollbar-thin::-webkit-scrollbar-thumb:hover {
        @apply bg-black/30; /* Darken thumb on hover */
    }

    /* Standard scrollbar width */
    .styled-scrollbar::-webkit-scrollbar {
        @apply w-2 h-2; /* Width/Height for vertical/horizontal */
    }

    /* Thin scrollbar width */
    .styled-scrollbar-thin::-webkit-scrollbar {
        @apply w-1.5 h-1.5; /* Thinner width/height */
    }
    .styled-scrollbar-thin::-webkit-scrollbar-thumb {
        @apply border-0; /* No border for thin scrollbar */
    }

    /* Firefox scrollbar styling (optional but recommended) */
    .styled-scrollbar,
    .styled-scrollbar-thin {
        scrollbar-width: thin; /* Or 'auto' for standard */
        scrollbar-color: hsla(0, 0%, 0%, 0.25) transparent; /* thumb color track color */
    }
    .styled-scrollbar {
        scrollbar-width: auto; /* Firefox standard width */
    }
    .styled-scrollbar-thin {
        scrollbar-width: thin; /* Firefox thin width */
    }
    .styled-scrollbar:hover,
    .styled-scrollbar-thin:hover {
        scrollbar-color: hsla(0, 0%, 0%, 0.35) transparent; /* Darken thumb on hover */
    }


    /* --- Fix for CodeMirror specific overrides if needed --- */
    /* Example: ensure scrollbar styles apply inside codemirror */
    .cm-scroller {
        @apply styled-scrollbar;
    }
    /* Example: Ensure padding isn't overridden incorrectly */
    .cm-content {
        padding: 14px 16px !important; /* Force padding if necessary */
    }

    /* --- Task Item Specific Styles (if any base styles are needed) --- */
    .task-item {
        /* Base task item styles if needed */
    }

    /* --- Glass Background Utility (Example) --- */
    /* Not strictly needed if using direct hsla() in tailwind.config.ts, */
    /* but can be useful for complex gradients or common patterns. */
    /* .bg-glass-gradient {
        background-image: linear-gradient(to bottom right, hsla(0,0%,100%,0.8), hsla(0,0%,100%,0.5));
        @apply backdrop-blur-lg;
    } */

    /* --- Tooltip Styling (if not using Radix Tooltip plugin styling) --- */
    /* .tooltip {
        @apply bg-black/80 text-white text-xs px-2 py-1 rounded shadow-md;
    } */
}

/* Ensure Radix portal elements are positioned correctly */
/* Generally not needed unless specific overrides are causing issues */
/* body > [role="tooltip"],
body > [role="dialog"],
body > [role="menu"] {
    position: fixed !important;
} */
